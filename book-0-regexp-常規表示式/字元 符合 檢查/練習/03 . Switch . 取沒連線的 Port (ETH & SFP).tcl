A . 沒有連線的 Port 有 Eth 15 & 16, SPF 有 49 & 50.
  
   6      0/ 5             838005             838848         1260359520         1261627392       987 Mbps 
   7      0/ 6                  0                  0                  0                  0         0 Mbps (Low rate!)
   8      0/ 7                  0                  0                  0                  0         0 Mbps (Low rate!)
   9      0/ 8             837162             836317         1259091648         1257820768       987 Mbps 
  10      0/ 9             836317             837162         1257820768         1259091648       987 Mbps 
  11      0/10             835473             834630         1256551392         1255283520       987 Mbps 
  12      0/11             834630             835473         1255283520         1256551392       987 Mbps 
  13      0/12             833787             832944         1254015648         1252747776       987 Mbps 
  14      0/13                  0                  0                  0                  0         0 Mbps (Low rate!)
  15      0/14             832100             831257         1251478400         1250210528       987 Mbps 

B . 從最下方的完整 Log 取得有哪些 Port 沒連線.

C . Code here (實作)
## ===============

proc _f_ReadFile { fname } {
	if { [file exists $fname] } {
		set fd [open $fname r]
		set data [read $fd]
		close $fd
		return $data
	} else {
		return ""
	}
}

cd D:/Dropbox/12-Office-Sync-MTS/36_ECS4650/Others/250514_failCheck_EthSFP
set infile [_f_ReadFile Fail.txt]

if {[info exists ngList]} {
	unset ngList
}

## pattern 和 pattern2 都可取得內容.
#set pattern {\d+      0/\d+                  \d+                  \d+                  \d+                  \d+         \d+ Mbps \(Low rate!\)}

set pattern2 {\d+\s+0/\d+\s+\d+\s+\d+\s+\d+\s+\d+\s+\d+ Mbps \(Low rate!\)}
;# pattern2 的 +0/\d+ 對以下可以解析出來 --> 0/13
  14      0/13                  0                  0                  0                  0         0 Mbps (Low rate!)
;# 但無法解析 --> 0/ 6 --> 因為中間有空白.
   7      0/ 6                  0                  0                  0                  0         0 Mbps (Low rate!)
;# 需改成 +0/.\d+ --> 成為 pattern3
;# .  -->  所有字元 (可以用來表達任何字元)
set pattern3 {\d+\s+0/.\d+\s+\d+\s+\d+\s+\d+\s+\d+\s+\d+ Mbps \(Low rate!\)}

foreach line [regexp -all -inline $pattern3 $infile] {
	set ngPort [lindex $line 0]

	if { $ngPort >= 49 && $ngPort <= 54 } {
		set typeName SPF
	} else {
		set typeName ETH
	}

	append ngList "${typeName}_${ngPort} "
}

puts "ngPort: $ngList"


# 輸出:
ngPort: ETH_7 ETH_8 ETH_14 


D . Example Code:
## LOG =====================
Console(Diagnostics)# 
Console(Diagnostics)# test 1 1 90000010
Console(Diagnostics)# 
Test Iteration: 1 of 1
----- Test In Progress -----
[90000010] [Port Pairing Traffic Test]
port_info_get,6
-------------------------------------------------------------------------------------
    RUNNING TRAFFIC TEST:

        - PORT  1 ~ 48 at SPEED `1' Gbps
        - PORT  49 ~ 54 at SPEED `25' Gbps
        - Packet Size:       1500 bytes.
        - Pattern:           0xff.
        - Time:              10 seconds.
        - Number of Packets: 10 packets.
-------------------------------------------------------------------------------------
Please wait.......
Port 7: Link DOWN.
Port 8: Link DOWN.
Port 14: Link DOWN.

Start to send packets and run traffic test.....

------ --------- ------------------ ------------------ ------------------ ------------------ --------------
 Port  Interface      UC Sent           UC Received        Octets Sent      Octets Received      Rate      
------ --------- ------------------ ------------------ ------------------ ------------------ --------------
   1      0/ 0             865030             864115         1301005120         1299628960       987 Mbps 
   2      0/ 1             864115             865030         1299628960         1301005120       987 Mbps 
   3      0/ 2             863234             862351         1298303936         1296975904       987 Mbps 
   4      0/ 3             862351             863234         1296975904         1298303936       987 Mbps 
   5      0/ 4             861476             860604         1295659904         1294348416       987 Mbps 
   6      0/ 5             838005             838848         1260359520         1261627392       987 Mbps 
   7      0/ 6                  0                  0                  0                  0         0 Mbps (Low rate!)
   8      0/ 7                  0                  0                  0                  0         0 Mbps (Low rate!)
   9      0/ 8             837162             836317         1259091648         1257820768       987 Mbps 
  10      0/ 9             836317             837162         1257820768         1259091648       987 Mbps 
  11      0/10             835473             834630         1256551392         1255283520       987 Mbps 
  12      0/11             834630             835473         1255283520         1256551392       987 Mbps 
  13      0/12             833787             832944         1254015648         1252747776       987 Mbps 
  14      0/13                  0                  0                  0                  0         0 Mbps (Low rate!)
  15      0/14             832100             831257         1251478400         1250210528       987 Mbps 
  16      0/15             852729             851845         1282504416         1281174880       987 Mbps 
  17      0/16             852729             851845         1282504416         1281174880       987 Mbps 
  18      0/17             851845             852729         1281174880         1282504416       987 Mbps 
  19      0/18             850961             850078         1279845344         1278517312       987 Mbps 
  20      0/19             850078             850961         1278517312         1279845344       987 Mbps 
  21      0/20             849195             848313         1277189280         1275862752       987 Mbps 
  22      0/21             848313             849195         1275862752         1277189280       987 Mbps 
  23      0/22             847432             846554         1274537728         1273217216       987 Mbps 
  24      0/23             846554             847432         1273217216         1274537728       987 Mbps 
  25      0/24             845672             844778         1271890688         1270546112       987 Mbps 
  26      0/25             844778             845672         1270546112         1271890688       987 Mbps 
  27      0/26             843883             842988         1269200032         1267853952       987 Mbps 
  28      0/27             842988             843883         1267853952         1269200032       988 Mbps 
  29      0/28             842093             841196         1266507872         1265158784       988 Mbps 
  30      0/29             841196             842093         1265158784         1266507872       988 Mbps 
  31      0/30             840302             839407         1263814208         1262468128       987 Mbps 
  32      0/31             839407             840302         1262468128         1263814208       987 Mbps 
  33      0/32             838531             837635         1261150624         1259803040       987 Mbps 
  34      0/33             837635             838531         1259803040         1261150624       987 Mbps 
  35      0/34             836742             835832         1258459968         1257091328       987 Mbps 
  36      0/35             835832             836742         1257091328         1258459968       987 Mbps 
  37      0/36             834939             834044         1255748256         1254402176       988 Mbps 
  38      0/37             834044             834939         1254402176         1255748256       988 Mbps 
  39      0/38             833148             832251         1253054592         1251705504       988 Mbps 
  40      0/39             832251             833148         1251705504         1253054592       988 Mbps 
  41      0/40             831355             830460         1250357920         1249011840       988 Mbps 
  42      0/41             830460             831355         1249011840         1250357920       987 Mbps 
  43      0/42             829579             828681         1247686816         1246336224       987 Mbps 
  44      0/43             828681             829579         1246336224         1247686816       987 Mbps 
  45      0/44             827787             826898         1244991648         1243654592       987 Mbps 
  46      0/45             826898             827787         1243654592         1244991648       988 Mbps 
  47      0/46             825987             825087         1242284448         1240930848       987 Mbps 
  48      0/47             825087             825987         1240930848         1242284448       988 Mbps 
  49      0/48                  0                  0                  0                  0         0 Mbps (Low rate!)
  50      0/49                  0                  0                  0                  0         0 Mbps (Low rate!)
  51      0/50           20603899           20580880        30988264096        30953643520     24699 Mbps 
  52      0/51           20580880           20603899        30953643520        30988264096     24698 Mbps 
  53      0/52           20558018           20535132        30919259072        30884838528     24698 Mbps 
  54      0/53           20535132           20558018        30884838528        30919259072     24700 Mbps 
------ --------- ------------------ ------------------ ------------------ ------------------ --------------
-----  Test Completed  -----
----------------------------------------------------------------------------FAILED (DATE: 2022-06-07 - TIME: 10:00:10 )

Main Board LM75-1 Temp. 127 C

Main Board LM75-2 Temp. 127 C

Main Board LM75-3 Temp. 1 C
CPU Temp = 91 degree C



--------------------------------  [    SYSTEM] TEST  -------------------------------
-----------------------------------------------------------------------------------------
 Test NO.  |         Group      |ON/OFF|  PASS   |  FAIL   |     Test Name      | Description
-----------------------------------------------------------------------------------------
  90000010 |               sys  | OFF  |       0 |       2 |       Traffic Test | Port Pairing Traffic Test

Failure Summation:
  Test No. Test Name                     Fail
[90000010] Traffic Test                     2

--------------------------------------------------------------------------------
 TEST Iteration 1 of 1 Completed.
--------------------------------------------------------------------------------

Console(Diagnostics)# 
